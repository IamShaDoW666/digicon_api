(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{79:(e,s,a)=>{Promise.resolve().then(a.bind(a,6413)),Promise.resolve().then(a.bind(a,2328)),Promise.resolve().then(a.bind(a,2442)),Promise.resolve().then(a.bind(a,355)),Promise.resolve().then(a.bind(a,2087))},2318:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});var l=(0,a(3839).A)("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]])},2328:(e,s,a)=>{"use strict";a.d(s,{DataTable:()=>U});var l=a(5881),t=a(3582),r=a(4813),n=a(5926),i=a(7681),o=a(8369),d=a(2087),c=a(8337),u=a(6606),x=a(6055),h=a(9733),m=a(9806),g=a(2318),j=(0,a(3839).A)("filled","circle-check-filled","IconCircleCheckFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",key:"svg-0"}]]),f=a(6093),p=a(1783),v=a(6415),b=a(1160),N=a(5557),w=a(6827),C=a(4787),y=a(4588),S=a(6797),R=a(5737);let z=(0,R.createServerReference)("7fdbd5ca0f62bf9117a53a5cfa0b7264dd50a1aff6",R.callServer,void 0,R.findSourceMapURL,"deleteUser");var M=a(9979),P=a(1874),I=a(70),E=a.n(I),k=a(3356),A=a(7403);function F(e){let{row:s}=e,{transform:a,transition:t,setNodeRef:r,isDragging:n}=(0,h.gl)({id:s.original.id});return(0,l.jsx)(d.TableRow,{"data-state":s.getIsSelected()&&"selected","data-dragging":n,ref:r,className:"relative z-0 data-[dragging=true]:z-10 data-[dragging=true]:opacity-80",style:{transform:m.Ks.Transform.toString(a),transition:t},children:s.getVisibleCells().map(e=>(0,l.jsx)(d.TableCell,{children:(0,C.Kv)(e.column.columnDef.cell,e.getContext())},e.id))})}function U(e){var s;let{data:a}=e,m=(0,A.useRouter)(),[R,I]=S.useState(""),[U,V]=S.useState(()=>a),[T,_]=S.useState({}),[B,D]=S.useState({}),[J,K]=S.useState([]),[$,L]=S.useState([]),[O,G]=S.useState({pageIndex:0,pageSize:10}),H=S.useId(),q=(0,u.FR)((0,u.MS)(u.cA,{}),(0,u.MS)(u.IG,{}),(0,u.MS)(u.uN,{}));S.useEffect(()=>{V(a.filter(e=>{var s;return(null==(s=e.name)?void 0:s.toLowerCase().includes(R.toLowerCase()))||e.email.toLowerCase().includes(R.toLowerCase())}))},[R,a]);let Q=S.useMemo(()=>(null==U?void 0:U.map(e=>{let{id:s}=e;return s}))||[],[U]);async function W(e){if(confirm("Are you sure you want to delete this user? This action cannot be undone."))try{(await z(e)).success?(k.oR.success("User deleted successfully \uD83C\uDF89"),m.refresh()):k.oR.error("Error deleting User")}catch(e){console.error("Error deleting user:",e),(0,k.oR)("Error deleting User")}}let X=[{id:"number",header:"#",cell:e=>{let{row:s}=e;return(0,l.jsx)(t.E,{variant:"outline",children:s.index+1})}},{accessorKey:"name",header:"Name",cell:e=>{let{row:s}=e;return(0,l.jsx)(E(),{href:"/admin/users/".concat(s.original.id),children:s.original.name})},enableHiding:!1},{accessorKey:"Email",header:"Email",cell:e=>{let{row:s}=e;return s.original.email}},{accessorKey:"Phone",header:"Phone",cell:e=>{var s;let{row:a}=e;return null!=(s=a.original.phone)?s:"-"}},{accessorKey:"Role",header:"Role",cell:e=>{let{row:s}=e;return(0,l.jsx)(t.E,{variant:"secondary",children:s.original.role})}},{accessorKey:"Media",header:"Media",cell:e=>{let{row:s}=e;return(0,l.jsx)(t.E,{children:s.original.uploadedMedia.length})}},{accessorKey:"Batches",header:"Batches",cell:e=>{let{row:s}=e;return(0,l.jsx)(t.E,{children:s.original.createdBatches.length})}},{id:"actions",header:()=>"Actions",cell:e=>{let{row:s}=e;return(0,l.jsxs)(n.rI,{children:[(0,l.jsx)(n.ty,{asChild:!0,children:(0,l.jsxs)(r.$,{variant:"ghost",size:"icon",children:[(0,l.jsx)(g.A,{className:"text-muted-foreground size-3"}),(0,l.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,l.jsxs)(n.SQ,{align:"end",children:[(0,l.jsx)(n._2,{children:(0,l.jsx)(E(),{passHref:!0,href:"/admin/users/".concat(s.original.id),children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(j,{className:"mr-2 size-4"}),"View"]})})}),(0,l.jsxs)(n._2,{onClick:()=>W(s.original.id),children:[(0,l.jsx)(P.A,{}),"Delete"]})]})]})}}],Z=(0,C.N4)({data:U,columns:X,state:{sorting:$,columnVisibility:B,rowSelection:T,columnFilters:J,pagination:O},getRowId:e=>e.id.toString(),enableRowSelection:!0,onRowSelectionChange:_,onSortingChange:L,onColumnFiltersChange:K,onColumnVisibilityChange:D,onPaginationChange:G,getCoreRowModel:(0,y.HT)(),getFilteredRowModel:(0,y.hM)(),getPaginationRowModel:(0,y.kW)(),getSortedRowModel:(0,y.h5)(),getFacetedRowModel:(0,y.kQ)(),getFacetedUniqueValues:(0,y.oS)()});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(c.tU,{defaultValue:"outline",className:"w-full flex-col justify-start gap-6",children:[(0,l.jsx)(M.p,{className:"max-w-1/4 mx-6",value:R,placeholder:"Search by name or email...",onChange:e=>I(e.target.value)}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 lg:px-6",children:[(0,l.jsx)(i.J,{htmlFor:"view-selector",className:"sr-only",children:"View"}),(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)(n.rI,{children:[(0,l.jsx)(n.ty,{asChild:!0,children:(0,l.jsxs)(r.$,{variant:"outline",size:"sm",children:[(0,l.jsx)(f.A,{}),(0,l.jsx)("span",{className:"hidden lg:inline",children:"Customize Columns"}),(0,l.jsx)("span",{className:"lg:hidden",children:"Columns"}),(0,l.jsx)(p.A,{})]})}),(0,l.jsx)(n.SQ,{align:"end",className:"w-56",children:Z.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>(0,l.jsx)(n.hO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:s=>e.toggleVisibility(!!s),children:e.id},e.id))})]})})]}),(0,l.jsxs)(c.av,{value:"outline",className:"relative flex flex-col gap-4 overflow-auto px-4 lg:px-6",children:[(0,l.jsx)("div",{className:"overflow-hidden rounded-lg border",children:(0,l.jsx)(u.Mp,{collisionDetection:u.fp,modifiers:[x.FN],onDragEnd:function(e){let{active:s,over:a}=e;s&&a&&s.id!==a.id&&V(e=>{let l=Q.indexOf(s.id),t=Q.indexOf(a.id);return(0,h.be)(e,l,t)})},sensors:q,id:H,children:(0,l.jsxs)(d.Table,{children:[(0,l.jsx)(d.TableHeader,{className:"bg-muted sticky top-0 z-10",children:Z.getHeaderGroups().map(e=>(0,l.jsx)(d.TableRow,{children:e.headers.map(e=>(0,l.jsx)(d.TableHead,{colSpan:e.colSpan,children:e.isPlaceholder?null:(0,C.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,l.jsx)(d.TableBody,{className:"**:data-[slot=table-cell]:first:w-8",children:(null==(s=Z.getRowModel().rows)?void 0:s.length)?(0,l.jsx)(h.gB,{items:Q,strategy:h._G,children:Z.getRowModel().rows.map(e=>(0,l.jsx)(F,{row:e},e.id))}):(0,l.jsx)(d.TableRow,{children:(0,l.jsx)(d.TableCell,{colSpan:X.length,className:"h-24 text-center",children:"No results."})})})]})})}),(0,l.jsxs)("div",{className:"flex items-center justify-between px-4",children:[(0,l.jsxs)("div",{className:"text-muted-foreground hidden flex-1 text-sm lg:flex",children:[Z.getFilteredSelectedRowModel().rows.length," of"," ",Z.getFilteredRowModel().rows.length," row(s) selected."]}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-8 lg:w-fit",children:[(0,l.jsxs)("div",{className:"hidden items-center gap-2 lg:flex",children:[(0,l.jsx)(i.J,{htmlFor:"rows-per-page",className:"text-sm font-medium",children:"Rows per page"}),(0,l.jsxs)(o.l6,{value:"".concat(Z.getState().pagination.pageSize),onValueChange:e=>{Z.setPageSize(Number(e))},children:[(0,l.jsx)(o.bq,{size:"sm",className:"w-20",id:"rows-per-page",children:(0,l.jsx)(o.yv,{placeholder:Z.getState().pagination.pageSize})}),(0,l.jsx)(o.gC,{side:"top",children:[10,20,30,40,50].map(e=>(0,l.jsx)(o.eb,{value:"".concat(e),children:e},e))})]})]}),(0,l.jsxs)("div",{className:"flex w-fit items-center justify-center text-sm font-medium",children:["Page ",Z.getState().pagination.pageIndex+1," of"," ",Z.getPageCount()]}),(0,l.jsxs)("div",{className:"ml-auto flex items-center gap-2 lg:ml-0",children:[(0,l.jsxs)(r.$,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>Z.setPageIndex(0),disabled:!Z.getCanPreviousPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,l.jsx)(v.A,{})]}),(0,l.jsxs)(r.$,{variant:"outline",className:"size-8",size:"icon",onClick:()=>Z.previousPage(),disabled:!Z.getCanPreviousPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,l.jsx)(b.A,{})]}),(0,l.jsxs)(r.$,{variant:"outline",className:"size-8",size:"icon",onClick:()=>Z.nextPage(),disabled:!Z.getCanNextPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,l.jsx)(N.A,{})]}),(0,l.jsxs)(r.$,{variant:"outline",className:"hidden size-8 lg:flex",size:"icon",onClick:()=>Z.setPageIndex(Z.getPageCount()-1),disabled:!Z.getCanNextPage(),children:[(0,l.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,l.jsx)(w.A,{})]})]})]})]})]}),(0,l.jsx)(c.av,{value:"past-performance",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})}),(0,l.jsx)(c.av,{value:"key-personnel",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})}),(0,l.jsx)(c.av,{value:"focus-documents",className:"flex flex-col px-4 lg:px-6",children:(0,l.jsx)("div",{className:"aspect-video w-full flex-1 rounded-lg border border-dashed"})})]})})}},5967:(e,s,a)=>{"use strict";a.d(s,{C5:()=>f,MJ:()=>j,eI:()=>m,lR:()=>g,lV:()=>d,zB:()=>u});var l=a(5881),t=a(6797),r=a(9855),n=a(9015),i=a(2298),o=a(7681);let d=n.Op,c=t.createContext({}),u=e=>{let{...s}=e;return(0,l.jsx)(c.Provider,{value:{name:s.name},children:(0,l.jsx)(n.xI,{...s})})},x=()=>{let e=t.useContext(c),s=t.useContext(h),{getFieldState:a}=(0,n.xW)(),l=(0,n.lN)({name:e.name}),r=a(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},h=t.createContext({});function m(e){let{className:s,...a}=e,r=t.useId();return(0,l.jsx)(h.Provider,{value:{id:r},children:(0,l.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",s),...a})})}function g(e){let{className:s,...a}=e,{error:t,formItemId:r}=x();return(0,l.jsx)(o.J,{"data-slot":"form-label","data-error":!!t,className:(0,i.cn)("data-[error=true]:text-destructive",s),htmlFor:r,...a})}function j(e){let{...s}=e,{error:a,formItemId:t,formDescriptionId:n,formMessageId:i}=x();return(0,l.jsx)(r.DX,{"data-slot":"form-control",id:t,"aria-describedby":a?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!a,...s})}function f(e){var s;let{className:a,...t}=e,{error:r,formMessageId:n}=x(),o=r?String(null!=(s=null==r?void 0:r.message)?s:""):t.children;return o?(0,l.jsx)("p",{"data-slot":"form-message",id:n,className:(0,i.cn)("text-destructive text-sm",a),...t,children:o}):null}},6413:(e,s,a)=>{"use strict";a.d(s,{NewUserModal:()=>I});var l=a(5881),t=a(5737);let r=(0,t.createServerReference)("7f447cab0aa9764429fef1930289216cfa445c6bd7",t.callServer,void 0,t.findSourceMapURL,"createUser");var n=a(4813),i=a(6797),o=a(4698),d=a(4699),c=a(2298);function u(e){let{...s}=e;return(0,l.jsx)(o.bL,{"data-slot":"dialog",...s})}function x(e){let{...s}=e;return(0,l.jsx)(o.l9,{"data-slot":"dialog-trigger",...s})}function h(e){let{...s}=e;return(0,l.jsx)(o.ZL,{"data-slot":"dialog-portal",...s})}function m(e){let{...s}=e;return(0,l.jsx)(o.bm,{"data-slot":"dialog-close",...s})}function g(e){let{className:s,...a}=e;return(0,l.jsx)(o.hJ,{"data-slot":"dialog-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...a})}function j(e){let{className:s,children:a,...t}=e;return(0,l.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,l.jsx)(g,{}),(0,l.jsxs)(o.UC,{"data-slot":"dialog-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...t,children:[a,(0,l.jsxs)(o.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,l.jsx)(d.A,{}),(0,l.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function f(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"dialog-header",className:(0,c.cn)("flex flex-col gap-2 text-center sm:text-left",s),...a})}function p(e){let{className:s,...a}=e;return(0,l.jsx)("div",{"data-slot":"dialog-footer",className:(0,c.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...a})}function v(e){let{className:s,...a}=e;return(0,l.jsx)(o.hE,{"data-slot":"dialog-title",className:(0,c.cn)("text-lg leading-none font-semibold",s),...a})}var b=a(5967),N=a(9979),w=a(8369),C=a(3189);let y=C.z.object({name:C.z.string().min(2,"Name must be at least 2 characters"),email:C.z.string().email("Invalid email address"),phone:C.z.string().min(10,"Phone must be at least 10 digits"),password:C.z.string().min(6,"Password must be at least 6 characters"),role:C.z.enum(["ADMIN","USER"])});var S=a(8929),R=a(7537),z=a(7403),M=a(9015),P=a(3356);function I(){let[e,s]=i.useState(!1),a=(0,z.useRouter)(),t=(0,M.mN)({resolver:(0,S.u)(y),defaultValues:{name:"",email:"",phone:"",password:"",role:"USER"}}),o=async e=>{try{if(!(await r(e)).success){P.oR.error("Error creating user"),console.error("Error creating user");return}P.oR.success("User created successfully! \uD83C\uDF89"),s(!1),a.refresh(),t.reset()}catch(e){console.log(e),P.oR.error("Error creating user!")}};return(0,l.jsxs)(u,{open:e,onOpenChange:s,children:[(0,l.jsx)(x,{asChild:!0,children:(0,l.jsx)(n.$,{variant:"default",children:"Add New User"})}),(0,l.jsxs)(j,{children:[(0,l.jsx)(f,{children:(0,l.jsx)(v,{children:"Create New User"})}),(0,l.jsx)(b.lV,{...t,children:(0,l.jsxs)("form",{onSubmit:t.handleSubmit(o),className:"space-y-4",children:[(0,l.jsx)(b.zB,{control:t.control,name:"name",render:e=>{let{field:s}=e;return(0,l.jsxs)(b.eI,{children:[(0,l.jsx)(b.lR,{children:"Name"}),(0,l.jsx)(b.MJ,{children:(0,l.jsx)(N.p,{placeholder:"Enter name",...s})}),(0,l.jsx)(b.C5,{})]})}}),(0,l.jsx)(b.zB,{control:t.control,name:"email",render:e=>{let{field:s}=e;return(0,l.jsxs)(b.eI,{children:[(0,l.jsx)(b.lR,{children:"Email"}),(0,l.jsx)(b.MJ,{children:(0,l.jsx)(N.p,{type:"email",placeholder:"Enter email",...s})}),(0,l.jsx)(b.C5,{})]})}}),(0,l.jsx)(b.zB,{control:t.control,name:"phone",render:e=>{let{field:s}=e;return(0,l.jsxs)(b.eI,{children:[(0,l.jsx)(b.lR,{children:"Phone"}),(0,l.jsx)(b.MJ,{children:(0,l.jsx)(N.p,{type:"tel",placeholder:"Enter phone number",...s})}),(0,l.jsx)(b.C5,{})]})}}),(0,l.jsx)(b.zB,{control:t.control,name:"password",render:e=>{let{field:s}=e;return(0,l.jsxs)(b.eI,{children:[(0,l.jsx)(b.lR,{children:"Password"}),(0,l.jsx)(b.MJ,{children:(0,l.jsx)(N.p,{type:"password",placeholder:"Enter password",...s})}),(0,l.jsx)(b.C5,{})]})}}),(0,l.jsx)(b.zB,{control:t.control,name:"role",render:e=>{let{field:s}=e;return(0,l.jsxs)(b.eI,{children:[(0,l.jsx)(b.lR,{children:"Role"}),(0,l.jsxs)(w.l6,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,l.jsx)(b.MJ,{children:(0,l.jsx)(w.bq,{children:(0,l.jsx)(R.yv,{placeholder:"Select Role"})})}),(0,l.jsxs)(w.gC,{children:[(0,l.jsx)(w.eb,{value:"ADMIN",children:"Admin"}),(0,l.jsx)(w.eb,{value:"USER",children:"User"})]})]}),(0,l.jsx)(b.C5,{})]})}}),(0,l.jsxs)(p,{children:[(0,l.jsx)(m,{asChild:!0,children:(0,l.jsx)(n.$,{type:"button",variant:"secondary",children:"Cancel"})}),(0,l.jsx)(n.$,{type:"submit",children:"Create"})]})]})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[186,153,684,533,103,240,324,343,355,889,364,770,358],()=>s(79)),_N_E=e.O()}]);